<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Word Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #e5e7eb;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Main Container -->
    <div class="bg-white rounded-xl shadow-lg p-6 md:p-10 max-w-4xl w-full text-center">
        <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">ONE WORD SUBSTITUTION BOOSTER</h1>
        <p class="text-gray-600 mb-8">Select a letter to get a random word.</p>

        <!-- A-Z Button Grid -->
        <div id="alphabet-container" class="grid grid-cols-6 sm:grid-cols-7 md:grid-cols-9 lg:grid-cols-13 gap-2 mb-8">
            <!-- Buttons will be generated by JavaScript -->
        </div>

        <!-- Word Display Area -->
        <div id="word-display-container" class="min-h-[150px] flex flex-col justify-center items-center p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-inner transition-all duration-300">
            <h2 id="word-text" class="text-4xl sm:text-5xl font-extrabold text-blue-600 tracking-wide">
                <!-- Word will be displayed here -->
            </h2>
            <p id="meaning-text" class="mt-4 text-lg text-gray-700 italic hidden">
                <!-- Meaning will be displayed here -->
            </p>
            <p id="instruction-text" class="mt-4 text-gray-500">
                Please select a letter from above.
            </p>
        </div>

        <!-- Action Buttons -->
        <div class="mt-8 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
            <button id="next-button" class="bg-blue-500 hover:bg-blue-600 text-white font-semibold py-3 px-6 rounded-full shadow-md transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                Next Word
            </button>
            <button id="meaning-button" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-6 rounded-full shadow-md transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                Show Meaning
            </button>
        </div>
        
        <!-- Gemini API Buttons -->
        <div class="mt-8 flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4">
            <button id="synonyms-button" class="bg-purple-500 hover:bg-purple-600 text-white font-semibold py-3 px-6 rounded-full shadow-md transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                Show Synonyms & Antonyms ✨
            </button>
            <button id="pronounce-button" class="bg-indigo-500 hover:bg-indigo-600 text-white font-semibold py-3 px-6 rounded-full shadow-md transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed" disabled>
                Pronounce Word ✨
            </button>
        </div>

        <!-- Gemini API Output Area -->
        <div id="api-output" class="mt-8 p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-inner text-left hidden">
            <div id="api-loading" class="hidden flex items-center justify-center space-x-2 text-gray-500">
                <div class="loading-spinner"></div>
                <span>Loading...</span>
            </div>
            <div id="synonyms-list" class="hidden">
                <h3 class="text-xl font-semibold text-gray-700 mb-2">Related Words</h3>
                <p id="synonyms" class="text-gray-600"></p>
                <p id="antonyms" class="text-gray-600 mt-2"></p>
            </div>
            <p id="api-error" class="text-red-500 hidden"></p>
        </div>
    </div>

    <script>
        const wordData = {
            'A': [
                { word: 'Abate', meaning: 'To become less intense or widespread.' },
                { word: 'Abattoir', meaning: 'A place where animals are slaughtered for consumption as food.' },
                { word: 'Abbot', meaning: 'The superior of a monastery.' },
                { word: 'Abbreviation', meaning: 'To reduce to a shorter form intended to stand for the whole.' },
                { word: 'Abdicate', meaning: 'To give up one\'s authority or throne.' },
                { word: 'Abdication', meaning: 'Act of giving up (renouncing) the throne.' },
                { word: 'Aberration', meaning: 'Deviation from the right course.' },
                { word: 'Ablution', meaning: 'The act of washing oneself.' },
                { word: 'Abnegate', meaning: 'To refuse or deny oneself.' },
                { word: 'Abolish', meaning: 'Formally put an end to a system, practice, or institution.' },
                { word: 'Aboriginal', meaning: 'Existing in a land from the earliest times or from before the arrival of colonists.' },
                { word: 'Aborigines', meaning: 'The original inhabitants/natives of a country.' }
            ],
            'B': [
  {
    word: 'Bachelor',
    meaning: 'A man who remains unmarried'
  },
  {
    word: 'Bakery',
    meaning: 'A place where bread and cakes are made'
  },
  {
    word: 'Bald',
    meaning: 'A man having no hair on the scalp'
  },
  {
    word: 'Balderdash',
    meaning: 'Senseless talk or writing'
  },
  {
    word: 'Bale',
    meaning: 'A large bundle bound for storage or transport'
  },
  {
    word: 'Ballad',
    meaning: 'A poem that tells a story and has a regular rhythm and rhyme scheme'
  },
  {
    word: 'Bandying',
    meaning: 'Using (an idea, term, or name) frequently in casual talk'
  },
  {
    word: 'Bankrupt',
    meaning: 'One who is unable to pay his debts'
  },
  {
    word: 'Banter',
    meaning: 'Jokes and funny remarks amongst friends'
  },
  {
    word: 'Bark',
    meaning: 'Outer protective layer of a tree'
  },
  {
    word: 'Barometer',
    meaning: 'An instrument used for measuring atmospheric pressure'
  },
  {
    word: 'Barracks',
    meaning: 'Place given to soldiers to live in'
  },
  {
    word: 'Barrel',
    meaning: 'A wooden drum in which beer or oil is stored'
  },
  {
    word: 'Bask',
    meaning: 'Revel in and make the most of something pleasing'
  },
  {
    word: 'Battery',
    meaning: 'A group of guns or missile launchers operated together at one place'
  },
  {
    word: 'Behemoth',
    meaning: 'Something of monstrous size or power'
  },
  {
    word: 'Bellicose',
    meaning: 'A person who is fond of fighting'
  },
  {
    word: 'Bellow',
    meaning: 'The sound made by a crocodile'
  },
  {
    word: 'Benefactor',
    meaning: 'One who helps people by giving them money or other aid'
  },
  {
    word: 'Beneficiary',
    meaning: 'A person who gains as a results of something'
  },
  {
    word: 'Bereft',
    meaning: 'Deprived of or lacking of something'
  },
  {
    word: 'Beverage',
    meaning: 'Any soft drink except water'
  },
  {
    word: 'Bevy',
    meaning: 'A group of girls/boys/birds etc'
  },
  {
    word: 'Bibliography',
    meaning: 'A list of the books referred to in a scholarly work'
  },
  {
    word: 'Bibliomania',
    meaning: 'Preoccupation with the acquisition and possession of books'
  },
  {
    word: 'Bibliophile',
    meaning: 'A person who loves or collects books'
  },
  {
    word: 'Bicentennial',
    meaning: '200th anniversary'
  },
  {
    word: 'Biennial',
    meaning: 'A thing which happens every two years'
  },
  {
    word: 'Bigot',
    meaning: 'A person who is intolerant towards those holding different opinions // One who has narrow and prejudiced religious views'
  },
  {
    word: 'Bilingual',
    meaning: 'A person who can speak only two languages'
  },
  {
    word: 'Bimonthly',
    meaning: 'Twice a month'
  },
  {
    word: 'Biodegradable',
    meaning: 'Capable of being decomposed by biological agents, especially bacteria'
  },
  {
    word: 'Biography',
    meaning: 'The story of a person's life written by somebody else'
  },
  {
    word: 'Biology',
    meaning: 'Study of living organisms'
  },
  {
    word: 'Biopsy',
    meaning: 'The removal of tissue from the body of somebody who is ill and its examination in order to find out more about the disease'
  },
  {
    word: 'Bizarre',
    meaning: 'Very strange or unusual'
  },
  {
    word: 'Blasphemy',
    meaning: 'Words uttered impiously about God // The act of speaking irreverently about sacred things'
  },
  {
    word: 'Bleat',
    meaning: 'The sound made by sheep'
  },
  {
    word: 'Boer',
    meaning: 'A person of South African Dutch descent'
  },
  {
    word: 'Bohemian',
    meaning: 'One who does not follow the usual rules of social life // An unconventional style of living'
  },
  {
    word: 'Bombard',
    meaning: 'Subject (someone) to a continuous flow of questions, criticisms or information'
  },
  {
    word: 'Bombastic',
    meaning: 'Using high-sounding words but with little meaning'
  },
  {
    word: 'Bonfire',
    meaning: 'Huge fire for celebration'
  },
  {
    word: 'Boomerang',
    meaning: 'A hunting weapon which comes back, used by Australian Aborigines'
  },
  {
    word: 'Bonsai',
    meaning: 'Dwarf varieties of trees and shrubs grown in pots'
  },
  {
    word: 'Bonus',
    meaning: 'A sum of money added to a person's wages as a reward for good performance'
  },
  {
    word: 'Bookworm',
    meaning: 'An avid book reader // One who reads a lot'
  },
  {
    word: 'Borrow',
    meaning: 'To take something on loan with the intention of returning it'
  },
  {
    word: 'Botanist',
    meaning: 'One who is well-versed in the knowledge of plants'
  },
  {
    word: 'Botany',
    meaning: 'The scientific study of plants and their structure'
  },
  {
    word: 'Bottleneck',
    meaning: 'A narrow or busy section of road where the traffic often gets slower and stops'
  },
  {
    word: 'Boulevard',
    meaning: 'A broad road bordered with trees'
  },
  {
    word: 'Bouquet',
    meaning: 'An arrangement of flowers that is usually given as a present'
  },
  {
    word: 'Bourgeois',
    meaning: 'Belonging to middle class'
  },
  {
    word: 'Bovine',
    meaning: 'Affecting or relating to cows or cattle'
  },
  {
    word: 'Boutique',
    meaning: 'A small shop that sells fashionable clothes'
  },
  {
    word: 'Bower',
    meaning: 'A shady place under trees'
  },
  {
    word: 'Breach',
    meaning: 'An act of breaking or failing to observe a law'
  },
  {
    word: 'Brewery',
    meaning: 'A factory where beer is made'
  },
  {
    word: 'Bridle',
    meaning: 'Leather straps put around a horse's head to control it'
  },
  {
    word: 'Brigand',
    meaning: 'Member of a band of robbers'
  },
  {
    word: 'Brittle',
    meaning: 'Hard but easily broken // liable to break easily'
  },
  {
    word: 'Brood',
    meaning: 'The young of an animal cared for at one time // A family of young birds'
  },
  {
    word: 'Brunch',
    meaning: 'A meal that is usually taken late in the morning that combines a late breakfast and an early lunch'
  },
  {
    word: 'Brunette',
    meaning: 'A woman with dark brown hair'
  },
  {
    word: 'Budgeting',
    meaning: 'An itemized summary of estimated expenses for a given period along with proposals for financing them'
  },
  {
    word: 'Bullion',
    meaning: 'Gold and silver before using for manufacturing ornaments'
  },
  {
    word: 'Bundle',
    meaning: 'A collection of sticks'
  },
  {
    word: 'Bungalow',
    meaning: 'A large single detached house with single or double story'
  },
  {
    word: 'Bungle',
    meaning: 'Carry out a task clumsily or incompetently'
  },
  {
    word: 'Buoy',
    meaning: 'A floating container anchored to the sea bottom, so used for directing ships and warning them of possible danger'
  },
  {
    word: 'Bureaucracy',
    meaning: 'A government run by officials in a state'
  },
  {
    word: 'Burglar',
    meaning: 'A person who enters a building illegally in order to steal'
  },
  {
    word: 'Burrow',
    meaning: 'Hole excavated by an animal as dwelling'
  },
  {
    word: 'Buzz',
    meaning: 'The sound made by bees'
  },
  {
    word: 'Byre',
    meaning: 'Place where cows are sheltered'
  }
],
            'C': [
                { word: 'Cacophony', meaning: 'A harsh, discordant mixture of sounds.' },
                { word: 'Cajole', meaning: 'To persuade someone to do something by sustained coaxing or flattery.' },
                { word: 'Calumny', meaning: 'The making of false and defamatory statements in order to damage someone\'s reputation; slander.' },
                { word: 'Capricious', meaning: 'Given to sudden and unaccountable changes of mood or behavior.' },
                { word: 'Castigate', meaning: 'To reprimand severely.' },
                { word: 'Cataclysm', meaning: 'A large-scale and violent event in the natural world.' },
                { word: 'Catharsis', meaning: 'The process of releasing, and thereby providing relief from, strong or repressed emotions.' },
                { word: 'Cavalier', meaning: 'Showing a lack of proper concern; offhand.' },
                { word: 'Chicanery', meaning: 'The use of trickery to achieve a political, financial, or legal purpose.' },
                { word: 'Choleric', meaning: 'Bad-tempered or irritable.' },
                { word: 'Clandestine', meaning: 'Kept secret or done secretively.' },
                { word: 'Cliche', meaning: 'A phrase or opinion that is overused and betrays a lack of original thought.' }
            ],
            'D': [
                { word: 'Debacle', meaning: 'A sudden and ignominious failure; a fiasco.' },
                { word: 'Deleterious', meaning: 'Causing harm or damage.' },
                { word: 'Demagogue', meaning: 'A political leader who seeks support by appealing to popular desires and prejudices rather than by using rational argument.' },
                { word: 'Denounce', meaning: 'To publicly declare to be wrong or evil.' },
                { word: 'Despondent', meaning: 'In low spirits from loss of hope or courage.' },
                { word: 'Dichotomy', meaning: 'A division or contrast between two things that are or are represented as being opposed or entirely different.' },
                { word: 'Didactic', meaning: 'Intended to teach, particularly in having moral instruction as an ulterior motive.' },
                { word: 'Dilettante', meaning: 'A person who cultivates an area of interest, such as the arts, without real commitment or knowledge.' },
                { word: 'Disparage', meaning: 'To regard or represent as being of little worth.' },
                { word: 'Docile', meaning: 'Ready to accept control or instruction; submissive.' }
            ],
            'E': [
                { word: 'Ebullient', meaning: 'Cheerful and full of energy.' },
                { word: 'Eclectic', meaning: 'Deriving ideas, style, or taste from a broad and diverse range of sources.' },
                { word: 'Efficacy', meaning: 'The ability to produce a desired or intended result.' },
                { word: 'Effigy', meaning: 'A sculpture or model of a person.' },
                { word: 'Egregious', meaning: 'Outstandingly bad; shocking.' },
                { word: 'Elucidate', meaning: 'To make something clear; to explain.' },
                { word: 'Enervate', meaning: 'To make someone feel drained of energy or vitality.' },
                { word: 'Ephemeral', meaning: 'Lasting for a very short time.' },
                { word: 'Epitome', meaning: 'A person or thing that is a perfect example of a particular quality or type.' },
                { word: 'Equivocate', meaning: 'To use ambiguous language so as to conceal the truth or avoid committing oneself.' },
                { word: 'Exacerbate', meaning: 'To make a problem, bad situation, or negative feeling worse.' }
            ],
            'F': [
                { word: 'Facetious', meaning: 'Treating serious issues with deliberately inappropriate humor.' },
                { word: 'Fatuous', meaning: 'Silly and pointless.' },
                { word: 'Feckless', meaning: 'Lacking initiative or strength of character; irresponsible.' },
                { word: 'Felicitous', meaning: 'Well chosen or suited to the circumstances.' },
                { word: 'Fervent', meaning: 'Having or displaying a passionate intensity.' },
                { word: 'Fiasco', meaning: 'A complete failure, especially a ludicrous or humiliating one.' },
                { word: 'Fickle', meaning: 'Changing frequently, especially as regards one\'s loyalties or affections.' },
                { word: 'Furtive', meaning: 'Attempting to avoid notice or attention, typically because of guilt or a belief that discovery would lead to trouble.' }
            ],
            'G': [
                { word: 'Garrulous', meaning: 'Excessively talkative, especially on trivial matters.' },
                { word: 'Gaudy', meaning: 'Extravagantly bright or showy, typically so as to be tasteless.' },
                { word: 'Genial', meaning: 'Friendly and cheerful.' },
                { word: 'Goad', meaning: 'To provoke or annoy someone to stimulate an action or reaction.' },
                { word: 'Grandiloquent', meaning: 'Pompous or extravagant in language, style, or manner.' },
                { word: 'Gregarious', meaning: 'Fond of company; sociable.' },
                { word: 'Guileless', meaning: 'Innocent and without deception.' }
            ],
            'H': [
                { word: 'Hackneyed', meaning: 'Lacking significance through having been overused; unoriginal and trite.' },
                { word: 'Hegemony', meaning: 'Leadership or dominance, especially by one country or social group over others.' },
                { word: 'Heterogeneous', meaning: 'Diverse in character or content.' },
                { word: 'Hirsute', meaning: 'Hairy.' },
                { word: 'Hoi Polloi', meaning: 'The masses; the common people.' },
                { word: 'Hubris', meaning: 'Excessive pride or self-confidence.' }
            ],
            'I': [
                { word: 'Iconoclast', meaning: 'A person who attacks cherished beliefs or institutions.' },
                { word: 'Ignominious', meaning: 'Deserving or causing public disgrace or shame.' },
                { word: 'Imbibe', meaning: 'To drink (alcohol).' },
                { word: 'Imminent', meaning: 'About to happen.' },
                { word: 'Imperturbable', meaning: 'Unable to be upset or excited; calm.' },
                { word: 'Impugn', meaning: 'To dispute the truth, validity, or honesty of a statement or motive; call into question.' },
                { word: 'Incessant', meaning: 'Continuing without pause or interruption.' },
                { word: 'Indolent', meaning: 'Wanting to avoid activity or exertion; lazy.' },
                { word: 'Inscrutable', meaning: 'Impossible to understand or interpret.' },
                { word: 'Insipid', meaning: 'Lacking flavor; lacking interest or originality.' }
            ],
            'J': [
                { word: 'Jettison', meaning: 'To throw or drop something from an aircraft or ship.' },
                { word: 'Jocose', meaning: 'Playful or humorous.' },
                { word: 'Jocular', meaning: 'Fond of or characterized by joking; humorous or playful.' },
                { word: 'Jubilant', meaning: 'Feeling or expressing great happiness and triumph.' }
            ],
            'K': [
                { word: 'Knell', meaning: 'The sound of a bell, especially when rung solemnly for a death or funeral.' },
                { word: 'Kismet', meaning: 'Destiny; fate.' }
            ],
            'L': [
                { word: 'Labyrinthine', meaning: 'Complicated and confusing.' },
                { word: 'Laconic', meaning: 'Using very few words.' },
                { word: 'Languid', meaning: 'Having a disinclination for physical exertion or effort; slow and relaxed.' },
                { word: 'Largess', meaning: 'Generosity in bestowing money or gifts upon others.' },
                { word: 'Lassitude', meaning: 'A state of physical or mental weariness; lack of energy.' },
                { word: 'Lethargic', meaning: 'Sluggish and apathetic.' }
            ],
            'M': [
                { word: 'Machinations', meaning: 'A scheming or crafty action intended to accomplish a nefarious end.' },
                { word: 'Malevolent', meaning: 'Having or showing a wish to do evil to others.' },
                { word: 'Mellifluous', meaning: 'A sound that is sweet or musical; pleasant to hear.' },
                { word: 'Misanthrope', meaning: 'A person who dislikes humankind and avoids human society.' },
                { word: 'Mundane', meaning: 'Lacking interest or excitement; dull.' }
            ],
            'N': [
                { word: 'Nadir', meaning: 'The lowest point in the fortunes of a person or organization.' },
                { word: 'Nefarious', meaning: 'Wicked or criminal.' },
                { word: 'Nonchalant', meaning: 'Feeling or appearing casually calm and relaxed.' },
                { word: 'Nostalgia', meaning: 'A sentimental longing or wistful affection for the past, typically for a period or place with happy personal associations.' }
            ],
            'O': [
                { word: 'Obfuscate', meaning: 'To render obscure, unclear, or unintelligible.' },
                { word: 'Obsequious', meaning: 'Obedient or attentive to an excessive or servile degree.' },
                { word: 'Onerous', meaning: 'Involving an amount of effort and difficulty that is oppressively burdensome.' },
                { word: 'Ostentatious', meaning: 'Characterized by vulgar or pretentious display; designed to impress or attract notice.' }
            ],
            'P': [
                { word: 'Pernicious', meaning: 'Having a harmful effect, especially in a gradual or subtle way.' },
                { word: 'Peruse', meaning: 'To read something in a careful and thorough way.' },
                { word: 'Philanthropic', meaning: 'Seeking to promote the welfare of others.' },
                { word: 'Placate', meaning: 'To make someone less angry or hostile.' },
                { word: 'Plethora', meaning: 'A large or excessive amount of something.' },
                { word: 'Prosaic', meaning: 'Having the style or diction of prose; lacking poetic beauty.' }
            ],
            'Q': [
                { word: 'Quagmire', meaning: 'A soft boggy area of land that gives way underfoot.' },
                { word: 'Quaint', meaning: 'Attractively unusual or old-fashioned.' },
                { word: 'Quell', meaning: 'To put an end to something, typically by the use of force.' },
                { word: 'Querulous', meaning: 'Complaining in a petulant or whining manner.' },
                { word: 'Quixotic', meaning: 'Extremely idealistic; unrealistic and impractical.' }
            ],
            'R': [
                { word: 'Rancor', meaning: 'Bitterness or resentfulness, especially when long-standing.' },
                { word: 'Recalcitrant', meaning: 'Having an obstinately uncooperative attitude toward authority or discipline.' },
                { word: 'Resilient', meaning: 'Able to withstand or recover quickly from difficult conditions.' },
                { word: 'Reticent', meaning: 'Not revealing one\'s thoughts or feelings readily.' },
                { word: 'Revere', meaning: 'To feel deep respect or admiration for something.' }
            ],
            'S': [
                { word: 'Salient', meaning: 'Most noticeable or important.' },
                { word: 'Sanctimonious', meaning: 'Making a show of being morally superior to other people.' },
                { word: 'Sycophant', meaning: 'A person who acts obsequiously toward someone important in order to gain advantage.' },
                { word: 'Superfluous', meaning: 'Unnecessary, especially through being more than enough.' }
            ],
            'T': [
                { word: 'Taciturn', meaning: 'Reserved or uncommunicative in speech; saying little.' },
                { word: 'Temerity', meaning: 'Excessive confidence or boldness; audacity.' },
                { word: 'Tenacity', meaning: 'The quality or fact of being able to grip something firmly; grip.' },
                { word: 'Transient', meaning: 'Lasting only for a short time; impermanent.' },
                { word: 'Trenchant', meaning: 'Vigorous or incisive in expression or style.' }
            ],
            'U': [
                { word: 'Ubiquitous', meaning: 'Present, appearing, or found everywhere.' },
                { word: 'Unilateral', meaning: 'Relating to a course of action or decision performed by a single person or group without the agreement of another or others.' },
                { word: 'Usurp', meaning: 'To take a position of power or importance illegally or by force.' }
            ],
            'V': [
                { word: 'Vacillate', meaning: 'To waver between different opinions or actions; be indecisive.' },
                { word: 'Venerate', meaning: 'To regard with great respect; revere.' },
                { word: 'Vilify', meaning: 'To speak or write about in an abusively disparaging manner.' },
                { word: 'Vituperate', meaning: 'To blame or insult (someone) in strong or violent language.' },
                { word: 'Volatile', meaning: 'Liable to change rapidly and unpredictably, especially for the worse.' }
            ],
            'W': [
                { word: 'Wane', meaning: 'To decrease in vigor, power, or extent; become weaker.' },
                { word: 'Wistful', meaning: 'Having or showing a feeling of vague or regretful longing.' }
            ],
            'X': [
                { word: 'Xenial', meaning: 'Relating to hospitality or a friendly relationship between a host and guest.' },
                { word: 'Xylography', meaning: 'The art of engraving on wood.' }
            ],
            'Y': [
                { word: 'Yearn', meaning: 'To have an intense feeling of longing for something, typically something that one has lost or separated from.' },
                { word: 'Yore', meaning: 'Of long ago or former times.' }
            ],
            'Z': [
                { word: 'Zealous', meaning: 'Having or showing great energy or enthusiasm in pursuit of a cause or objective.' },
                { word: 'Zenith', meaning: 'The time at which something is most powerful or successful.' }
            ]
        };

        // DOM elements
        const alphabetContainer = document.getElementById('alphabet-container');
        const wordText = document.getElementById('word-text');
        const meaningText = document.getElementById('meaning-text');
        const instructionText = document.getElementById('instruction-text');
        const nextButton = document.getElementById('next-button');
        const meaningButton = document.getElementById('meaning-button');
        const synonymsButton = document.getElementById('synonyms-button');
        const pronounceButton = document.getElementById('pronounce-button');
        const apiOutputContainer = document.getElementById('api-output');
        const apiLoading = document.getElementById('api-loading');
        const synonymsList = document.getElementById('synonyms-list');
        const synonymsEl = document.getElementById('synonyms');
        const antonymsEl = document.getElementById('antonyms');
        const apiError = document.getElementById('api-error');

        let currentAlphabet = null;
        let currentWords = [];
        let currentWordIndex = -1;
        const apiKey = "";
        const LLM_API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=" + apiKey;
        const TTS_API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=" + apiKey;

        // Function to render the alphabet buttons
        function renderAlphabetButtons() {
            const alphabets = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
            alphabets.forEach(letter => {
                const button = document.createElement('button');
                button.textContent = letter;
                button.classList.add('alphabet-button', 'bg-gray-200', 'text-gray-800', 'font-bold', 'py-2', 'rounded-lg', 'shadow-sm', 'hover:bg-blue-200', 'transition-colors', 'duration-200');
                button.addEventListener('click', () => handleAlphabetClick(letter));
                alphabetContainer.appendChild(button);
            });
        }

        // Function to get a random word
        function getRandomWord() {
            apiOutputContainer.classList.add('hidden');
            if (currentWords.length > 0) {
                const randomIndex = Math.floor(Math.random() * currentWords.length);
                currentWordIndex = randomIndex;
                const wordObj = currentWords[currentWordIndex];
                wordText.textContent = wordObj.word;
                meaningText.textContent = wordObj.meaning;
                meaningText.classList.add('hidden'); // Hide meaning initially
                instructionText.classList.add('hidden');
                nextButton.disabled = false;
                meaningButton.disabled = false;
                synonymsButton.disabled = false;
                pronounceButton.disabled = false;
            } else {
                wordText.textContent = "No words found.";
                meaningText.classList.add('hidden');
                instructionText.classList.remove('hidden');
                nextButton.disabled = true;
                meaningButton.disabled = true;
                synonymsButton.disabled = true;
                pronounceButton.disabled = true;
            }
        }

        // Event handler for alphabet buttons
        function handleAlphabetClick(letter) {
            currentAlphabet = letter;
            currentWords = wordData[letter] || [];
            
            // Highlight the selected button
            document.querySelectorAll('.alphabet-button').forEach(btn => {
                btn.classList.remove('bg-blue-500', 'text-white');
                btn.classList.add('bg-gray-200', 'text-gray-800');
            });
            const selectedButton = document.querySelector(`.alphabet-button[data-letter="${letter}"]`);
            if (selectedButton) {
                selectedButton.classList.remove('bg-gray-200', 'text-gray-800');
                selectedButton.classList.add('bg-blue-500', 'text-white');
            }
            
            getRandomWord();
        }

        // Event handler for Next button
        nextButton.addEventListener('click', () => {
            getRandomWord();
        });

        // Event handler for Meaning button
        meaningButton.addEventListener('click', () => {
            meaningText.classList.toggle('hidden');
        });

        // Event handler for Synonyms & Antonyms button
        synonymsButton.addEventListener('click', async () => {
            const currentWord = wordText.textContent;
            if (!currentWord) return;
            
            // Show loading state
            apiOutputContainer.classList.remove('hidden');
            apiLoading.classList.remove('hidden');
            synonymsList.classList.add('hidden');
            apiError.classList.add('hidden');
            synonymsButton.disabled = true;

            const prompt = `Provide 5 synonyms and 3 antonyms for the word "${currentWord}". Provide the response as a JSON object with 'synonyms' and 'antonyms' arrays.`;
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                generationConfig: {
                    responseMimeType: "application/json",
                    responseSchema: {
                        type: "OBJECT",
                        properties: {
                            "synonyms": { "type": "ARRAY", "items": { "type": "STRING" } },
                            "antonyms": { "type": "ARRAY", "items": { "type": "STRING" } }
                        }
                    }
                }
            };
            
            try {
                const response = await fetch(LLM_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                
                const result = await response.json();
                const jsonContent = result.candidates?.[0]?.content?.parts?.[0]?.text;
                const parsedData = JSON.parse(jsonContent);

                if (parsedData.synonyms) {
                    synonymsEl.textContent = `Synonyms: ${parsedData.synonyms.join(', ')}`;
                }
                if (parsedData.antonyms) {
                    antonymsEl.textContent = `Antonyms: ${parsedData.antonyms.join(', ')}`;
                }
                
                apiLoading.classList.add('hidden');
                synonymsList.classList.remove('hidden');

            } catch (error) {
                apiLoading.classList.add('hidden');
                apiError.textContent = `Error fetching synonyms: ${error.message}`;
                apiError.classList.remove('hidden');
            } finally {
                synonymsButton.disabled = false;
            }
        });

        // Helper function to convert base64 to ArrayBuffer
        function base64ToArrayBuffer(base64) {
            const binaryString = window.atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        }

        // Helper function to convert PCM to WAV
        function pcmToWav(pcmData, sampleRate) {
            const buffer = new ArrayBuffer(44 + pcmData.length * 2);
            const view = new DataView(buffer);
            let offset = 0;

            function writeString(view, offset, string) {
                for (let i = 0; i < string.length; i++) {
                    view.setUint8(offset + i, string.charCodeAt(i));
                }
            }

            // RIFF chunk
            writeString(view, offset, 'RIFF'); offset += 4;
            view.setUint32(offset, 36 + pcmData.length * 2, true); offset += 4;
            writeString(view, offset, 'WAVE'); offset += 4;

            // fmt chunk
            writeString(view, offset, 'fmt '); offset += 4;
            view.setUint32(offset, 16, true); offset += 4;
            view.setUint16(offset, 1, true); offset += 2; // Audio format (1 = PCM)
            view.setUint16(offset, 1, true); offset += 2; // Number of channels
            view.setUint32(offset, sampleRate, true); offset += 4;
            view.setUint32(offset, sampleRate * 2, true); offset += 4; // Byte rate
            view.setUint16(offset, 2, true); offset += 2; // Block align
            view.setUint16(offset, 16, true); offset += 2; // Bits per sample

            // data chunk
            writeString(view, offset, 'data'); offset += 4;
            view.setUint32(offset, pcmData.length * 2, true); offset += 4;
            for (let i = 0; i < pcmData.length; i++) {
                view.setInt16(offset + i * 2, pcmData[i], true);
            }

            return new Blob([view], { type: 'audio/wav' });
        }


        // Event handler for Pronounce button
        pronounceButton.addEventListener('click', async () => {
            const currentWord = wordText.textContent;
            const currentMeaning = meaningText.textContent;
            if (!currentWord) return;

            // Show loading state
            apiLoading.classList.remove('hidden');
            apiError.classList.add('hidden');
            pronounceButton.disabled = true;

            const prompt = `Say: "${currentWord}. The meaning is: ${currentMeaning}"`;
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                generationConfig: {
                    responseModalities: ["AUDIO"],
                    speechConfig: {
                        voiceConfig: {
                            prebuiltVoiceConfig: { voiceName: "Kore" }
                        }
                    }
                },
                model: "gemini-2.5-flash-preview-tts"
            };

            try {
                const response = await fetch(TTS_API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);

                const result = await response.json();
                const part = result?.candidates?.[0]?.content?.parts?.[0];
                const audioData = part?.inlineData?.data;
                const mimeType = part?.inlineData?.mimeType;

                if (audioData && mimeType && mimeType.startsWith("audio/")) {
                    const sampleRate = parseInt(mimeType.match(/rate=(\d+)/)[1], 10);
                    const pcmData = base64ToArrayBuffer(audioData);
                    const pcm16 = new Int16Array(pcmData);
                    const wavBlob = pcmToWav(pcm16, sampleRate);
                    const audioUrl = URL.createObjectURL(wavBlob);
                    const audio = new Audio(audioUrl);
                    audio.play();
                } else {
                    throw new Error("Invalid audio data from API.");
                }

            } catch (error) {
                apiError.textContent = `Error playing audio: ${error.message}`;
                apiError.classList.remove('hidden');
            } finally {
                apiLoading.classList.add('hidden');
                pronounceButton.disabled = false;
            }
        });

        // Initial setup on page load
        window.onload = () => {
            renderAlphabetButtons();
            // Add a data attribute to the buttons for easy selection
            document.querySelectorAll('.alphabet-button').forEach(btn => {
                btn.setAttribute('data-letter', btn.textContent);
            });
        };
    </script>
</body>
</html>
